<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [Intro](#intro)
-   [Config](#config)
-   [Mailbox](#mailbox)
    -   [constructor](#constructor)
    -   [createMailbox](#createmailbox)
    -   [deleteLatestMessage](#deletelatestmessage)
    -   [getMessages](#getmessages)
    -   [getMailbox](#getmailbox)
    -   [getLatestMessage](#getlatestmessage)
    -   [getMailById](#getmailbyid)
    -   [waitForMessage](#waitformessage)
-   [Example](#example)

## Intro

[Codecept](http://codecept.io/) Helper with that consumes the [temp-mail.ru](https://temp-mail.ru/en/api/) api for test scenarios that require email interaction. An example scenario can be found [below](#example)


## Config

**Add to `codecept.conf.js` with:**

```javascript
exports.config = {
    helpers: {
        Nightmare: {
            url: "http://localhost"
            },
        Mailbox: {
            "require": "node_modules/codeceptjs-tempmail"
        }
    }
    /*...some config*/
}
```

**or to `codecept.json` with:**

```json
{
  "helpers": {
    "Nightmare": {
      "url": "http://localhost"
    },
    "Mailbox": {
      "require": "node_modules/codeceptjs-tempmail"
    }
  }
}
```


## Mailbox

**Extends Helper**

Helper with disposable mailbox api that is availible within test execution.

**Parameters**

-   `config`  

### constructor

**Parameters**

-   `config` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** configuration can be overridded by values found in `codecept.json`

### createMailbox

**Parameters**

-   `name` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** [something] - Mailbox name, i.e. the email address for the newly created mailbox.

**Examples**

```javascript
{
 address: "taij1q1j8n8@doanart.com", 
 messages: {error: "there are no messages yet"}
}
```

Returns **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** Creates a mailbox object and checks for mail before returning.

### deleteLatestMessage

**Parameters**

-   `x` **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)?** Takes a mailbox object and detletes the last (i.e. most recent) value from messages and the mail server. (optional, default `this.mailbox`)

### getMessages

**Parameters**

-   `x` **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)?** Takes a mailbox object and uses the address to get messages. (optional, default `this.mailbox`)

### getMailbox

Returns **any** The mailbox object in it's current state, i.e. if you have called the methods elsewhere in this file without arguments, the Mailbox object is updated internally. This returns it.

### getLatestMessage

**Parameters**

-   `x` **any** {object=} x - Takes a mailbox object and assigns a `mailbox.latest` object with the last (i.e. most recent) value in the messages array returned from the server. (optional, default `this.mailbox`)

### getMailById

**Parameters**

-   `id` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** Takes a mail_id string and returns it from the `mailbox.messages` array

### waitForMessage

**Parameters**

-   `x` **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)?** Takes a mailbox object and makes 10 attempts at retrieving messages from the server. Once a suitible response is recieved the `mailbox.messages` and `mailbox.latest` are updated. (optional, default `this.mailbox`)

## Example

```javascript

```

